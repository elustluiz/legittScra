- name: Run Scraper
        env:
          PYTHONUNBUFFERED: "1"
          ENGINE: ${{ github.event.inputs.search_engine }}
          DEPTH: ${{ github.event.inputs.search_depth }}
          UI_QUERY: ${{ github.event.inputs.custom_query }}
          UI_MODE: ${{ github.event.inputs.output_mode }}
          UI_LOCATION: ${{ github.event.inputs.custom_location }}
          UI_DOMAINS: ${{ github.event.inputs.custom_domains }}
        run: python my_scraper.py
      
      - name: Commit and Push Data
        run: |
          git config --global user.name "GitHub Action"
          git config --global user.email "action@github.com"
          # Wildcard adds every unique harvest file created during the run
          git add harvest_*.csv harvest_*.txt
          git commit -m "New harvest files: $(date)" || echo "No changes"
          git push
